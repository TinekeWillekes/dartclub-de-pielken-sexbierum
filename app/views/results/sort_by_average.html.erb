<div class="container">
    <div class="row">
    <h3>Klassement</h3>
    <table class="table table-striped table-bordered table-condensed table-hover">
      <tr>
        <th>Name</th>
        <th>Played</th>
        <th>Won</th> 
        <th>Lost</th> 
        <th><%= link_to "Points", results_path %></th> 
        <th>Legs pro</th> 
        <th>Legs contra</th> 
        <th><%= link_to "Average", {:controller => "results", :action => "sort_by_average"}%></th> 
        <th><%= link_to "CO", {:controller => "results", :action => "sort_by_co"}%> %</th>
        <th><%= link_to "HS", {:controller => "results", :action => "sort_by_hs"}%></th> 
      </tr>
      <% @order_average.each do |r| %>
      <tr>
        <td><%= link_to r.player.name, player_path(:id => r.player.id), data: { no_turbolink: true } %></td>
        <td><%= r.player.results.count %></td>
        <td><%= r.player.count_games_won %></td>
        <td><%= r.player.count_games_lost %></td>
        <td><%= r.player.results.sum(:game_points) %></td>
        <td><%= r.player.results.sum(:legs_pro)%></td>
        <td><%= r.player.results.sum(:legs_contra)%></td>
        <td><%= r.player.results.average(:average).round(1)%></td>
        <td><%= r.player.results.average(:co).round(1)%></td>
        <td><%= r.player.results.maximum(:hs)%></td>
      </tr> 
      <% end %>
    </table> 
  </div>
</div>
